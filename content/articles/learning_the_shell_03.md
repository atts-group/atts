---
title: "Shell　入门 03"
date: 2019-05-20T00:01:40+09:00
draft: false
tags: ["kingkoma", "shell"]
---

## 变量

> 变量包括

- 变量名
- 变量值

>本地变量

- 在当前系统某个环境才生效的变量，作用范围小。
- 包括普通变量和命令变量。

>普通变量定义方式

- 变量名=变量值（变量值必须是一个整体，中间无特殊字符，=两边无空格）
- 变量名='变量值'（看到什么输出什么）
- 变量名="变量值"（变量值范围内有可以解析的变量 A，将 A 的结果和其余内容组合成整体重新赋值给变量 B）

注意：数字一般不加引号，其它默认加双引号。

>命令变量定义方式

- 变量名=`命令`
- 变量名=$(命令)

执行流程：

1. 执行反引号或者 $() 里的命令
2. 将命令执行后的结果赋值给新的变量



> 全局变量

- 当前 Shell 以及其派生出来的子 Shell 中都有效的变量。

>全局变量定义方式

- 变量=值， export 变量
- export 变量=值

**查看全局变量**
```
env
```

>查看变量

- $变量名
- "$变量名"
- ${变量名}
- "${变量名}"

>取消变量

- unset 变量名

```
注意：
想让全局变量在任何的命令行中有效，需要修改 /etc/profile 文件，
比如 export name="wang"追加到文件末尾，
然后在某个命令行执行 source /etc/profile，
则 name 全局变量在当前窗口有效，其他窗口还是没效果。

重启系统，则所有的窗口都有 name 全局变量，对所有用户有效。
用户目录下的 .bashrc，里面的变量只对某个用户有效，是当前用户的全局变量。
而 /etc/profile，里面的变量对所有用户有效。
```

